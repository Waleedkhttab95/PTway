{"version":3,"sources":["webpack:///./src/app/candidates-list/Candidates-list.routing.ts","webpack:///./src/app/candidates-list/candidates-list.component.css","webpack:///./src/app/candidates-list/candidates-list.component.html","webpack:///./src/app/candidates-list/candidates-list.component.ts","webpack:///./src/app/candidates-list/candidates-list.module.ts"],"names":[],"mappings":"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","file":"candidates-list-candidates-list-module.js","sourcesContent":["import { Routes } from '@angular/router';\r\n\r\nimport { CandidatesListComponent } from './candidates-list.component';\r\n\r\nexport const CandidatesListRoutes: Routes = [\r\n    {\r\n\r\n      path: '',\r\n      children: [ {\r\n        path: '',\r\n        component: CandidatesListComponent\r\n    }]\r\n}\r\n];","module.exports = \".card [class*=\\\"card-header-\\\"] .card-icon{\\r\\n    margin-left: 15px;\\r\\n    float: right;\\r\\n}\\r\\n.custom-title{\\r\\n    text-align: right;\\r\\n}\\r\\n.mat-form-field{\\r\\n    text-align: right;\\r\\n}\\r\\n.custom-card{\\r\\n    margin-left: auto;\\r\\n    margin-right: auto;\\r\\n}\\r\\n::ng-deep .mat-raised-button.btn.btn-primary, .mat-raised-button.btn:not([class*=mat-elevation-z]).btn-primary, .btn.btn-primary .custom-btn{\\r\\n    font-family: 'Cairo', 'Changa';\\r\\n}\"","module.exports = \"<div class=\\\"main-content\\\" *ngIf='count != CandidatesNumber'>\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12\\\">\\r\\n        <div class=\\\"card\\\">\\r\\n          <div class=\\\"card-header card-header-primary card-header-icon\\\">\\r\\n            <div class=\\\"card-icon\\\">\\r\\n              <i class=\\\"material-icons\\\">assignment</i>\\r\\n            </div>\\r\\n            <h4 class=\\\"card-title custom-title\\\">قائمة المرشحين</h4>\\r\\n          </div>\\r\\n          <div class=\\\"card-body\\\">\\r\\n            <div class=\\\"toolbar\\\">\\r\\n              <!--        Here you can write extra buttons/actions for the toolbar              -->\\r\\n            </div>\\r\\n            <div class=\\\"material-datatables\\\">\\r\\n              <table id=\\\"datatables\\\" class=\\\"table table-striped table-no-bordered table-hover\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\"\\r\\n                style=\\\"width:100%\\\">\\r\\n                <thead>\\r\\n                  <tr>\\r\\n                    <th>  عدد المقبولين : {{count}} / {{CandidatesNumber}} </th>\\r\\n                  </tr>\\r\\n                  <br>\\r\\n                  <tr>\\r\\n                    <th>{{ dataTable.headerRow[0] }}</th>\\r\\n                    <th>{{ dataTable.headerRow[1] }}</th>\\r\\n                    <th class=\\\"disabled-sorting text-right\\\">{{ dataTable.headerRow[2] }}</th>\\r\\n                \\r\\n                  </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                  <tr *ngFor=\\\"let row of dataTable.dataRows; let rowIndex = index\\\">\\r\\n                    <td>{{row[0]}}</td>\\r\\n                    <td><button mat-raised-button class=\\\"btn btn-primary btn-round\\\" (click)='onSelect(row[1])' [routerLink]=\\\"['/cv-preview']\\\">عرض السيرة الذاتية</button></td>\\r\\n                    <td class=\\\"text-right\\\">\\r\\n                      <a  class=\\\"btn btn-link btn-success btn-just-icon edit\\\" (click)=\\\"onAccepted(row[1]);  deleteRow(rowIndex)\\\"><i class=\\\"material-icons\\\">done</i></a>\\r\\n                    </td>\\r\\n                  </tr>\\r\\n                </tbody>\\r\\n              </table>\\r\\n            </div>\\r\\n          </div>\\r\\n          <!-- end content-->\\r\\n          <div class='col-md-12'>\\r\\n            <button mat-raised-button class=\\\"btn btn-fill btn-primary custom-btn\\\"  [routerLink]=\\\"['/my-offers']\\\">إلى الخلف</button>\\r\\n          </div>\\r\\n        </div>\\r\\n        <!--  end card  -->\\r\\n      </div>\\r\\n      <!-- end col-md-12 -->\\r\\n    </div>\\r\\n    <!-- end row -->\\r\\n  </div>\\r\\n</div>\"","import { Component, OnInit, AfterViewInit, ChangeDetectorRef } from '@angular/core';\r\nimport { DataService } from '../data.service';\r\nimport { offerService } from '../my-offers/offer.service';\r\nimport { AuthService } from '../auth/auth.service';\r\nimport { JobService } from '../add-job/job.service';\r\nimport { JobData } from '../add-job/job-data.model';\r\nimport { Router } from '@angular/router';\r\nimport swal from 'sweetalert2';\r\n\r\ndeclare interface DataTable {\r\n  headerRow: string[];\r\n  dataRows: string[][];\r\n}\r\n\r\ndeclare const $: any;\r\n\r\n@Component({\r\n  selector: 'app-candidates-list',\r\n  templateUrl: './candidates-list.component.html',\r\n  styleUrls: ['./candidates-list.component.css']\r\n})\r\nexport class CandidatesListComponent implements OnInit {\r\n  rowDataMainForm: any;\r\n\r\n  Dtable() {\r\n    setTimeout(function () {\r\n      $('#datatables').DataTable({\r\n        \"pagingType\": \"full_numbers\",\r\n        \"lengthMenu\": [\r\n          [10, 25, 50, -1],\r\n          [10, 25, 50, \"All\"]\r\n        ],\r\n        responsive: true,\r\n        language: {\r\n          search: \"_INPUT_\",\r\n          searchPlaceholder: \"Search records\",\r\n        }\r\n  \r\n      });\r\n  \r\n      const table = $('#datatables').DataTable();\r\n      \r\n  \r\n    \r\n      $('.card .material-datatables label').addClass('form-group');\r\n\r\n    }, 100)\r\n\r\n  }\r\n\r\n  public dataTable: DataTable;\r\n  constructor(private data: DataService, public offerService: offerService\r\n    , public authService: AuthService, public jobService: JobService,\r\n     private changeDetectorRef: ChangeDetectorRef,private router: Router) { }\r\n   jobData: JobData; \r\n  jobId: string\r\n  dataRows : any[] = [];\r\n nameRows : any[] = [];\r\n  idRows : any[] = [];\r\n  Acc: Object;\r\n  CandidatesNumber: number;\r\n  count: number = 0;\r\n\r\n  ngOnInit() {\r\n    this.jobId = this.data.getStoreDataJob();\r\n\r\n\r\n     this.authService.autoAuthUser();\r\n     this.offerService.getCandidates(this.jobId).subscribe(response =>{\r\n\r\n      for(var i=0 ; i < response.count ; i++) {\r\n           this.dataRows.push(response.username[i]);\r\n           this.idRows.push(response.candidateNames[i]);\r\n\r\n         \r\n\r\n           this.dataTable.dataRows.push([\r\n            this.dataRows[i],\r\n            this.idRows[i]\r\n          ])\r\n          \r\n       }\r\n     this.Dtable()\r\n      });\r\n\r\n    this.dataTable = {\r\n      headerRow: [ 'الأسم', 'السيرة الذاتية', 'الإجراءات' ],\r\n\r\n      dataRows: [\r\n         \r\n      ]\r\n   };\r\n\r\n  this.getReqNumber();\r\n  }\r\n\r\n  getReqNumber() {\r\n    this.jobService.getJobRequierdNumber(this.jobId).subscribe((res: any)=>{\r\n   \r\n      this.CandidatesNumber = res.req_n;\r\n     this.count = res.limit_n;\r\n\r\n     if(this.CandidatesNumber == this.count) {\r\n       this.showSwal('warning-message');\r\n       this.router.navigate(['/my-offers']);\r\n\r\n     }\r\n     })\r\n  }\r\n  onAccepted(id: string) {\r\n   // this.count++;\r\n    this.Acc = {\r\n      jobAd : this.jobId,\r\n      acceptedName: id\r\n    }\r\n  \r\n    this.offerService.addAcceptence(this.Acc).subscribe(result =>{\r\n      this.showSwal('secc');\r\n      this.getReqNumber()\r\n      this.router.navigate(['/candidates-list']);\r\n  });;\r\n  }\r\n\r\n  deleteRow(rowNumber: number) {\r\n    this.dataTable.dataRows.splice(rowNumber, 1);\r\n    this.changeDetectorRef.detectChanges();\r\n  }\r\n\r\nonSelect(id) {\r\nthis.data.storeDataUser(id);\r\n}\r\n\r\nshowSwal(type){\r\n  if (type == 'secc') {\r\n  swal({\r\n    title: \"تمت العملية بنجاح!\",\r\n    buttonsStyling: false,\r\n    confirmButtonClass: 'btn btn-success',\r\n    confirmButtonText:'نعم',\r\n    type:'success',\r\n  }).catch(swal.noop)\r\n} \r\nif (type == 'warning-message') {\r\n  swal({\r\n    title: \"لقد أكتمل العدد!\",\r\n    text: \"شكرا لك لقد أكتمل عدد المطلوبين !\",\r\n    buttonsStyling: false,\r\n    confirmButtonClass: \"btn btn-warning\",\r\n    type: \"warning\"\r\n  }).catch(swal.noop)\r\n}\r\n}\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CandidatesListComponent } from './candidates-list.component';\r\nimport {CandidatesListRoutes} from './Candidates-list.routing';\r\n\r\nimport { RouterModule } from '@angular/router';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MaterialModule } from '../app.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [CandidatesListComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(CandidatesListRoutes),\r\n    FormsModule,\r\n    MaterialModule\r\n  ]\r\n})\r\nexport class CandidatesListModule { }\r\n"],"sourceRoot":""}